{"version":3,"file":"compressed-textures.js","sources":["../../src/const.ts","../../../../node_modules/tslib/tslib.es6.js","../../src/resources/BlobResource.ts","../../src/resources/CompressedTextureResource.ts","../../src/loaders/CompressedTextureLoader.ts","../../src/loaders/registerCompressedTextures.ts","../../src/loaders/DDSLoader.ts","../../src/loaders/KTXLoader.ts"],"sourcesContent":["/**\n * WebGL internal formats, including compressed texture formats provided by extensions\n *\n * @memberof PIXI\n * @static\n * @name INTERNAL_FORMATS\n * @enum {number}\n * @property {number} COMPRESSED_RGB_S3TC_DXT1_EXT=0x83F0\n * @property {number} COMPRESSED_RGBA_S3TC_DXT1_EXT=0x83F1\n * @property {number} COMPRESSED_RGBA_S3TC_DXT3_EXT=0x83F2\n * @property {number} COMPRESSED_RGBA_S3TC_DXT5_EXT=0x83F3\n * @property {number} COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917\n * @property {number} COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918\n * @property {number} COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919\n * @property {number} COMPRESSED_SRGB_S3TC_DXT1_EXT=35916\n * @property {number} COMPRESSED_R11_EAC=0x9270\n * @property {number} COMPRESSED_SIGNED_R11_EAC=0x9271\n * @property {number} COMPRESSED_RG11_EAC=0x9272\n * @property {number} COMPRESSED_SIGNED_RG11_EAC=0x9273\n * @property {number} COMPRESSED_RGB8_ETC2=0x9274\n * @property {number} COMPRESSED_RGBA8_ETC2_EAC=0x9278\n * @property {number} COMPRESSED_SRGB8_ETC2=0x9275\n * @property {number} COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=0x9279\n * @property {number} COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=0x9276\n * @property {number} COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=0x9277\n * @property {number} COMPRESSED_RGB_PVRTC_4BPPV1_IMG=0x8C00\n * @property {number} COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=0x8C02\n * @property {number} COMPRESSED_RGB_PVRTC_2BPPV1_IMG=0x8C01\n * @property {number} COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=0x8C03\n * @property {number} COMPRESSED_RGB_ETC1_WEBGL=0x8D64\n * @property {number} COMPRESSED_RGB_ATC_WEBGL=0x8C92\n * @property {number} COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=0x8C92\n * @property {number} COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=0x87EE\n */\nexport enum INTERNAL_FORMATS {\n    // WEBGL_compressed_texture_s3tc\n    COMPRESSED_RGB_S3TC_DXT1_EXT = 0x83F0,\n    COMPRESSED_RGBA_S3TC_DXT1_EXT = 0x83F1,\n    COMPRESSED_RGBA_S3TC_DXT3_EXT = 0x83F2,\n    COMPRESSED_RGBA_S3TC_DXT5_EXT = 0x83F3,\n\n    // WEBGL_compressed_texture_s3tc_srgb\n    COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917,\n    COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918,\n    COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919,\n    COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916,\n\n    // WEBGL_compressed_texture_etc\n    COMPRESSED_R11_EAC = 0x9270,\n    COMPRESSED_SIGNED_R11_EAC = 0x9271,\n    COMPRESSED_RG11_EAC = 0x9272,\n    COMPRESSED_SIGNED_RG11_EAC = 0x9273,\n    COMPRESSED_RGB8_ETC2 = 0x9274,\n    COMPRESSED_RGBA8_ETC2_EAC = 0x9278,\n    COMPRESSED_SRGB8_ETC2 = 0x9275,\n    COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 0x9279,\n    COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 0x9276,\n    COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 0x9277,\n\n    // WEBGL_compressed_texture_pvrtc\n    COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 0x8C00,\n    COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 0x8C02,\n    COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 0x8C01,\n    COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 0x8C03,\n\n    // WEBGL_compressed_texture_etc1\n    COMPRESSED_RGB_ETC1_WEBGL = 0x8D64,\n\n    // WEBGL_compressed_texture_atc\n    COMPRESSED_RGB_ATC_WEBGL = 0x8C92,\n    COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 0x8C92, // TODO: Probably a bug on the MDN site\n    COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 0x87EE,\n}\n\n/**\n * Maps the compressed texture formats in {@link PIXI.INTERNAL_FORMATS} to the number of bytes taken by\n * each texel.\n *\n * @memberof PIXI\n * @static\n * @ignore\n */\nexport const INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: { [id: number]: number } = {\n    // WEBGL_compressed_texture_s3tc\n    [INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]: 1,\n\n    // WEBGL_compressed_texture_s3tc\n    [INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]: 1,\n\n    // WEBGL_compressed_texture_etc\n    [INTERNAL_FORMATS.COMPRESSED_R11_EAC]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RG11_EAC]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]: 0.5, // ~~\n    [INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]: 0.5, // ~~\n\n    // WEBGL_compressed_texture_pvrtc\n    [INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]: 0.25,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]: 0.25,\n\n    // WEBGL_compressed_texture_etc1\n    [INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]: 0.5,\n\n    // @see https://www.khronos.org/registry/OpenGL/extensions/AMD/AMD_compressed_ATC_texture.txt\n    // WEBGL_compressed_texture_atc\n    [INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]: 0.5,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]: 1,\n    [INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]: 1\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Resource, ViewableBuffer, BufferResource } from '@pixi/core';\n\ninterface IBlobOptions\n{\n    autoLoad?: boolean;\n    width: number;\n    height: number;\n}\n\n/**\n * Resource that fetches texture data over the network and stores it in a buffer.\n *\n * @class\n * @extends PIXI.Resource\n * @memberof PIXI\n */\nexport abstract class BlobResource extends BufferResource\n{\n    protected origin: string;\n    protected buffer: ViewableBuffer;\n    protected loaded: boolean;\n\n    /**\n     * @param {string} url - the URL of the texture file\n     * @param {boolean}[autoLoad] - whether to fetch the data immediately;\n     *  you can fetch it later via {@link BlobResource#load}\n     */\n    constructor(source: string | Uint8Array | Uint32Array | Float32Array,\n        options: IBlobOptions = { width: 1, height: 1, autoLoad: true })\n    {\n        let origin: string;\n        let data: Uint8Array | Uint32Array | Float32Array;\n\n        if (typeof source === 'string')\n        {\n            origin = source;\n            data = new Uint8Array();\n        }\n        else\n        {\n            origin = null;\n            data = source;\n        }\n\n        super(data, options);\n\n        /**\n         * The URL of the texture file\n         * @member {string}\n         */\n        this.origin = origin;\n\n        /**\n         * The viewable buffer on the data\n         * @member {ViewableBuffer}\n         */\n        // HINT: BlobResource allows \"null\" sources, assuming the child class provides an alternative\n        this.buffer = data ? new ViewableBuffer(data) : null;\n\n        // Allow autoLoad = \"undefined\" still load the resource by default\n        if (this.origin && options.autoLoad !== false)\n        {\n            this.load();\n        }\n        if (data && data.length)\n        {\n            this.loaded = true;\n            this.onBlobLoaded(this.buffer.rawBinaryData);\n        }\n    }\n\n    protected onBlobLoaded(_data: ArrayBuffer): void\n    {\n        // TODO: Override this method\n    }\n\n    /**\n     * Loads the blob\n     */\n    async load(): Promise<Resource>\n    {\n        const response = await fetch(this.origin);\n        const blob = await response.blob();\n        const arrayBuffer = await blob.arrayBuffer();\n\n        this.data = new Uint32Array(arrayBuffer);\n        this.buffer = new ViewableBuffer(arrayBuffer);\n        this.loaded = true;\n\n        this.onBlobLoaded(arrayBuffer);\n        this.update();\n\n        return this;\n    }\n}\n","import { BlobResource } from './BlobResource';\nimport { INTERNAL_FORMAT_TO_BYTES_PER_PIXEL } from '../const';\nimport { Renderer, BaseTexture, GLTexture } from '@pixi/core';\n\nimport type { INTERNAL_FORMATS } from '../const';\n\n/**\n * @ignore\n */\n// Used in PIXI.KTXLoader\nexport type CompressedLevelBuffer = {\n    levelID: number,\n    levelWidth: number,\n    levelHeight: number,\n    levelBuffer: Uint8Array\n};\n\n/**\n * @ignore\n */\nexport interface ICompressedTextureResourceOptions\n{\n    format: INTERNAL_FORMATS;\n    width: number;\n    height: number;\n    levels?: number;\n    levelBuffers?: CompressedLevelBuffer[];\n}\n\n/**\n * Resource for compressed texture formats, as follows: S3TC/DXTn (& their sRGB formats), ATC, ASTC, ETC 1/2, PVRTC.\n *\n * Compressed textures improve performance when rendering is texture-bound. The texture data stays compressed in\n * graphics memory, increasing memory locality and speeding up texture fetches. These formats can also be used to store\n * more detail in the same amount of memory.\n *\n * For most developers, container file formats are a better abstraction instead of directly handling raw texture\n * data. PixiJS provides native support for the following texture file formats (via {@link PIXI.Loader}):\n *\n * * **.dds** - the DirectDraw Surface file format stores DXTn (DXT-1,3,5) data. See {@link PIXI.DDSLoader}\n * * **.ktx** - the Khronos Texture Container file format supports storing all the supported WebGL compression formats.\n *  See {@link PIXI.KTXLoader}.\n * * **.basis** - the BASIS supercompressed file format stores texture data in an internal format that is transcoded\n *  to the compression format supported on the device at _runtime_. It also supports transcoding into a uncompressed\n *  format as a fallback; you must install the `@pixi/basis-loader`, `@pixi/basis-transcoder` packages separately to\n *  use these files. See {@link PIXI.BasisLoader}.\n *\n * The loaders for the aforementioned formats use `CompressedTextureResource` internally. It is strongly suggested that\n * they be used instead.\n *\n * ## Working directly with CompressedTextureResource\n *\n * Since `CompressedTextureResource` inherits `BlobResource`, you can provide it a URL pointing to a file containing\n * the raw texture data (with no file headers!):\n *\n * ```js\n * // The resource backing the texture data for your textures.\n * // NOTE: You can also provide a ArrayBufferView instead of a URL. This is used when loading data from a container file\n * //   format such as KTX, DDS, or BASIS.\n * const compressedResource = new PIXI.CompressedTextureResource(\"bunny.dxt5\", {\n *   format: PIXI.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,\n *   width: 256,\n *   height: 256\n * });\n *\n * // You can create a base-texture to the cache, so that future `Texture`s can be created using the `Texture.from` API.\n * const baseTexture = new PIXI.BaseTexture(compressedResource, { pmaMode: PIXI.ALPHA_MODES.NPM });\n *\n * // Create a Texture to add to the TextureCache\n * const texture = new PIXI.Texture(baseTexture);\n *\n * // Add baseTexture & texture to the global texture cache\n * PIXI.BaseTexture.addToCache(baseTexture, \"bunny.dxt5\");\n * PIXI.Texture.addToCache(texture, \"bunny.dxt5\");\n * ```\n *\n * @memberof PIXI\n */\nexport class CompressedTextureResource extends BlobResource\n{\n    /** The compression format */\n    public format: INTERNAL_FORMATS;\n    /**\n     * The number of mipmap levels stored in the resource buffer.\n     * @default 1\n     */\n    public levels: number;\n\n    // Easy access to the WebGL extension providing support for the compression format via ContextSystem\n    private _extension: 's3tc' | 's3tc_sRGB' | 'atc' | 'astc' | 'etc' | 'etc1' | 'pvrtc';\n    // Buffer views for each mipmap level in the main buffer\n    private _levelBuffers: CompressedLevelBuffer[];\n\n    /**\n     * @param source - the buffer/URL holding the compressed texture data\n     * @param options\n     * @param {PIXI.INTERNAL_FORMATS} options.format - the compression format\n     * @param {number} options.width - the image width in pixels.\n     * @param {number} options.height - the image height in pixels.\n     * @param {number} [options.level=1] - the mipmap levels stored in the compressed texture, including level 0.\n     * @param {number} [options.levelBuffers] - the buffers for each mipmap level. `CompressedTextureResource` can allows you\n     *      to pass `null` for `source`, for cases where each level is stored in non-contiguous memory.\n     */\n    constructor(source: string | Uint8Array | Uint32Array, options: ICompressedTextureResourceOptions)\n    {\n        super(source, options);\n\n        this.format = options.format;\n        this.levels = options.levels || 1;\n\n        this._width = options.width;\n        this._height = options.height;\n\n        this._extension = CompressedTextureResource._formatToExtension(this.format);\n\n        if (options.levelBuffers || this.buffer)\n        {\n            // ViewableBuffer doesn't support byteOffset :-( so allow source to be Uint8Array\n            this._levelBuffers = options.levelBuffers\n                || CompressedTextureResource._createLevelBuffers(\n                    source instanceof Uint8Array ? source : this.buffer.uint8View,\n                    this.format,\n                    this.levels,\n                    4, 4, // PVRTC has 8x4 blocks in 2bpp mode\n                    this.width,\n                    this.height);\n        }\n    }\n\n    /**\n     * @override\n     * @param renderer - A reference to the current renderer\n     * @param _texture - the texture\n     * @param _glTexture - texture instance for this webgl context\n     */\n    upload(renderer: Renderer, _texture: BaseTexture, _glTexture: GLTexture): boolean\n    {\n        const gl = renderer.gl;\n        const extension = renderer.context.extensions[this._extension];\n\n        if (!extension)\n        {\n            throw new Error(`${this._extension} textures are not supported on the current machine`);\n        }\n        if (!this._levelBuffers)\n        {\n            // Do not try to upload data before BlobResource loads, unless the levelBuffers were provided directly!\n            return false;\n        }\n\n        for (let i = 0, j = this.levels; i < j; i++)\n        {\n            const { levelID, levelWidth, levelHeight, levelBuffer } = this._levelBuffers[i];\n\n            gl.compressedTexImage2D(gl.TEXTURE_2D, levelID, this.format, levelWidth, levelHeight, 0, levelBuffer);\n        }\n\n        return true;\n    }\n\n    /** @protected */\n    protected onBlobLoaded(): void\n    {\n        this._levelBuffers = CompressedTextureResource._createLevelBuffers(\n            this.buffer.uint8View,\n            this.format,\n            this.levels,\n            4, 4, // PVRTC has 8x4 blocks in 2bpp mode\n            this.width,\n            this.height);\n    }\n\n    /**\n     * Returns the key (to ContextSystem#extensions) for the WebGL extension supporting the compression format\n     *\n     * @private\n     * @param format - the compression format to get the extension for.\n     */\n    private static _formatToExtension(format: INTERNAL_FORMATS):\n        's3tc' | 's3tc_sRGB' | 'atc' |\n        'astc' | 'etc' | 'etc1' | 'pvrtc'\n    {\n        if (format >= 0x83F0 && format <= 0x83F3)\n        {\n            return 's3tc';\n        }\n        else if (format >= 0x9270 && format <= 0x9279)\n        {\n            return 'etc';\n        }\n        else if (format >= 0x8C00 && format <= 0x8C03)\n        {\n            return 'pvrtc';\n        }\n        else if (format >= 0x8D64)\n        {\n            return 'etc1';\n        }\n        else if (format >= 0x8C92 && format <= 0x87EE)\n        {\n            return 'atc';\n        }\n\n        throw new Error('Invalid (compressed) texture format given!');\n    }\n\n    /**\n     * Pre-creates buffer views for each mipmap level\n     *\n     * @private\n     * @param buffer -\n     * @param format - compression formats\n     * @param levels - mipmap levels\n     * @param blockWidth -\n     * @param blockHeight -\n     * @param imageWidth - width of the image in pixels\n     * @param imageHeight - height of the image in pixels\n     */\n    private static _createLevelBuffers(\n        buffer: Uint8Array,\n        format: INTERNAL_FORMATS,\n        levels: number,\n        blockWidth: number,\n        blockHeight: number,\n        imageWidth: number,\n        imageHeight: number\n    ): CompressedLevelBuffer[]\n    {\n        // The byte-size of the first level buffer\n        const buffers = new Array<CompressedLevelBuffer>(levels);\n\n        let offset = buffer.byteOffset;\n\n        let levelWidth = imageWidth;\n        let levelHeight = imageHeight;\n        let alignedLevelWidth = (levelWidth + blockWidth - 1) & ~(blockWidth - 1);\n        let alignedLevelHeight = (levelHeight + blockHeight - 1) & ~(blockHeight - 1);\n\n        let levelSize = alignedLevelWidth * alignedLevelHeight * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];\n\n        for (let i = 0; i < levels; i++)\n        {\n            buffers[i] = {\n                levelID: i,\n                levelWidth: levels > 1 ? levelWidth : alignedLevelWidth,\n                levelHeight: levels > 1 ? levelHeight : alignedLevelHeight,\n                levelBuffer: new Uint8Array(buffer.buffer, offset, levelSize)\n            };\n\n            offset += levelSize;\n\n            // Calculate levelBuffer dimensions for next iteration\n            levelWidth = (levelWidth >> 1) || 1;\n            levelHeight = (levelHeight >> 1) || 1;\n            alignedLevelWidth = (levelWidth + blockWidth - 1) & ~(blockWidth - 1);\n            alignedLevelHeight = (levelHeight + blockHeight - 1) & ~(blockHeight - 1);\n            levelSize = alignedLevelWidth * alignedLevelHeight * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];\n        }\n\n        return buffers;\n    }\n}\n","import { LoaderResource } from '@pixi/loaders';\nimport { url } from '@pixi/utils';\n\nimport type { Loader } from '@pixi/loaders';\nimport type { INTERNAL_FORMATS } from '../const';\n\n/**\n * Schema for compressed-texture manifests\n *\n * @ignore\n * @see PIXI.CompressedTextureLoader\n */\nexport type CompressedTextureManifest = {\n    textures: Array<{ src: string, format?: keyof INTERNAL_FORMATS}>,\n    cacheID: string;\n};\n\n// Missing typings? - https://github.com/microsoft/TypeScript/issues/39655\n/**\n * Compressed texture extensions\n */\n/* eslint-disable camelcase */\nexport type CompressedTextureExtensions = {\n    s3tc?: WEBGL_compressed_texture_s3tc,\n    s3tc_sRGB: WEBGL_compressed_texture_s3tc_srgb,\n    etc: any,\n    etc1: any,\n    pvrtc: any,\n    atc: any,\n    astc: WEBGL_compressed_texture_astc\n};\nexport type CompressedTextureExtensionRef = keyof CompressedTextureExtensions;\n/* eslint-enable camelcase */\n\n/**\n * Loader plugin for handling compressed textures for all platforms.\n *\n * @class\n * @memberof PIXI\n * @implements PIXI.ILoaderPlugin\n */\nexport class CompressedTextureLoader\n{\n    /**  Map of available texture extensions. */\n    private static _textureExtensions: Partial<CompressedTextureExtensions>;\n\n    /** Map of available texture formats. */\n    private static _textureFormats: { [P in keyof INTERNAL_FORMATS]?: number };\n\n    /**\n     * Called after a compressed-textures manifest is loaded.\n     *\n     * This will then load the correct compression format for the device. Your manifest should adhere\n     * to the following schema:\n     *\n     * ```js\n     * import { INTERNAL_FORMATS } from '@pixi/constants';\n     *\n     * type CompressedTextureManifest = {\n     *  textures: Array<{ src: string, format?: keyof INTERNAL_FORMATS}>,\n     *  cacheID: string;\n     * };\n     * ```\n     *\n     * This is an example of a .json manifest file\n     *\n     * ```json\n     * {\n     *   \"cacheID\":\"asset\",\n     *   \"textures\":[\n     *     { \"src\":\"asset.fallback.png\" },\n     *     { \"format\":\"COMPRESSED_RGBA_S3TC_DXT5_EXT\", \"src\":\"asset.s3tc.ktx\" },\n     *     { \"format\":\"COMPRESSED_RGBA8_ETC2_EAC\", \"src\":\"asset.etc.ktx\" },\n     *     { \"format\":\"RGBA_PVRTC_4BPPV1_IMG\", \"src\":\"asset.pvrtc.ktx\" }\n     *   ]\n     * }\n     * ```\n     */\n    static use(resource: LoaderResource, next: (...args: any[]) => void): void\n    {\n        const data: CompressedTextureManifest = resource.data;\n        const loader = this as unknown as Loader;\n\n        if (resource.type === LoaderResource.TYPE.JSON\n            && data\n            && data.cacheID\n            && data.textures)\n        {\n            const textures = data.textures;\n\n            let textureURL: string;\n            let fallbackURL: string;\n\n            // Search for an extension that holds one the formats\n            for (let i = 0, j = textures.length; i < j; i++)\n            {\n                const texture = textures[i];\n                const url = texture.src;\n                const format = texture.format;\n\n                if (!format)\n                {\n                    fallbackURL = url;\n                }\n                if (CompressedTextureLoader.textureFormats[format])\n                {\n                    textureURL = url;\n                    break;\n                }\n            }\n\n            textureURL = textureURL || fallbackURL;\n\n            // Make sure we have a URL\n            if (!textureURL)\n            {\n                next(new Error(`Cannot load compressed-textures in ${resource.url}, make sure you provide a fallback`));\n\n                return;\n            }\n            if (textureURL === resource.url)\n            {\n                // Prevent infinite loops\n                next(new Error('URL of compressed texture cannot be the same as the manifest\\'s URL'));\n\n                return;\n            }\n\n            const loadOptions = {\n                crossOrigin: resource.crossOrigin,\n                metadata: resource.metadata.imageMetadata,\n                parentResource: resource\n            };\n\n            const resourcePath = url.resolve(resource.url.replace(loader.baseUrl, ''), textureURL);\n            const resourceName = data.cacheID;\n\n            // The appropriate loader should register the texture\n            loader.add(resourceName, resourcePath, loadOptions, (res: LoaderResource) =>\n            {\n                if (res.error)\n                {\n                    next(res.error);\n\n                    return;\n                }\n\n                const { texture = null, textures = {} } = res;\n\n                // Make sure texture/textures is assigned to parent resource\n                Object.assign(resource, { texture, textures });\n\n                // Pass along any error\n                next();\n            });\n        }\n        else\n        {\n            next();\n        }\n    }\n\n    /**  Map of available texture extensions. */\n    public static get textureExtensions(): Partial<CompressedTextureExtensions>\n    {\n        if (!CompressedTextureLoader._textureExtensions)\n        {\n            // Auto-detect WebGL compressed-texture extensions\n            const canvas = document.createElement('canvas');\n            const gl = canvas.getContext('webgl');\n\n            if (!gl)\n            {\n                // #if _DEBUG\n                console.warn('WebGL not available for compressed textures. Silently failing.');\n                // #endif\n\n                return {};\n            }\n\n            const extensions = {\n                s3tc: gl.getExtension('WEBGL_compressed_texture_s3tc'),\n                s3tc_sRGB: gl.getExtension('WEBGL_compressed_texture_s3tc_srgb'), /* eslint-disable-line camelcase */\n                etc: gl.getExtension('WEBGL_compressed_texture_etc'),\n                etc1: gl.getExtension('WEBGL_compressed_texture_etc1'),\n                pvrtc: gl.getExtension('WEBGL_compressed_texture_pvrtc')\n                    || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'),\n                atc: gl.getExtension('WEBGL_compressed_texture_atc'),\n                astc: gl.getExtension('WEBGL_compressed_texture_astc')\n            };\n\n            CompressedTextureLoader._textureExtensions = extensions;\n        }\n\n        return CompressedTextureLoader._textureExtensions;\n    }\n\n    /** Map of available texture formats. */\n    public static get textureFormats(): { [P in keyof INTERNAL_FORMATS]?: number }\n    {\n        if (!CompressedTextureLoader._textureFormats)\n        {\n            const extensions = CompressedTextureLoader.textureExtensions;\n\n            CompressedTextureLoader._textureFormats = {};\n\n            // Assign all available compressed-texture formats\n            for (const extensionName in extensions)\n            {\n                const extension = extensions[extensionName as CompressedTextureExtensionRef];\n\n                if (!extension)\n                {\n                    continue;\n                }\n\n                Object.assign(\n                    CompressedTextureLoader._textureFormats,\n                    Object.getPrototypeOf(extension));\n            }\n        }\n\n        return CompressedTextureLoader._textureFormats;\n    }\n}\n","import { MIPMAP_MODES, ALPHA_MODES } from '@pixi/constants';\nimport { BaseTexture, Texture } from '@pixi/core';\n\nimport type { LoaderResource, IResourceMetadata } from '@pixi/loaders';\nimport type { CompressedTextureResource } from '../resources/CompressedTextureResource';\n\n/**\n * Result when calling registerCompressedTextures.\n * @ignore\n */\ntype CompressedTexturesResult = Pick<LoaderResource, 'textures' | 'texture'>;\n\n/**\n * Creates base-textures and textures for each compressed-texture resource and adds them into the global\n * texture cache. The first texture has two IDs - `${url}`, `${url}-1`; while the rest have an ID of the\n * form `${url}-i`.\n *\n * @param url - the original address of the resources\n * @param resources - the resources backing texture data\n * @ignore\n */\nexport function registerCompressedTextures(url: string,\n    resources: CompressedTextureResource[],\n    metadata: IResourceMetadata): CompressedTexturesResult\n{\n    const result: CompressedTexturesResult = {\n        textures: {},\n        texture: null,\n    };\n\n    if (!resources)\n    {\n        return result;\n    }\n\n    const textures = resources.map((resource) =>\n        (\n            new Texture(new BaseTexture(resource, Object.assign({\n                mipmap: MIPMAP_MODES.OFF,\n                alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA\n            }, metadata)))\n        ));\n\n    textures.forEach((texture, i) =>\n    {\n        const { baseTexture } = texture;\n        const cacheID = `${url}-${i + 1}`;\n\n        BaseTexture.addToCache(baseTexture, cacheID);\n        Texture.addToCache(texture, cacheID);\n\n        if (i === 0)\n        {\n            BaseTexture.addToCache(baseTexture, url);\n            Texture.addToCache(texture, url);\n            result.texture = texture;\n        }\n\n        result.textures[cacheID] = texture;\n    });\n\n    return result;\n}\n","import { CompressedTextureResource } from '../resources';\nimport { INTERNAL_FORMATS, INTERNAL_FORMAT_TO_BYTES_PER_PIXEL } from '../const';\nimport { LoaderResource } from '@pixi/loaders';\nimport { registerCompressedTextures } from './registerCompressedTextures';\n\n// Set DDS files to be loaded as an ArrayBuffer\nLoaderResource.setExtensionXhrType('dds', LoaderResource.XHR_RESPONSE_TYPE.BUFFER);\n\nconst DDS_MAGIC_SIZE = 4;\nconst DDS_HEADER_SIZE = 124;\nconst DDS_HEADER_PF_SIZE = 32;\nconst DDS_HEADER_DX10_SIZE = 20;\n\n// DDS file format magic word\nconst DDS_MAGIC = 0x20534444;\n\n/**\n * DWORD offsets of the DDS file header fields (relative to file start).\n *\n * @ignore\n */\nconst DDS_FIELDS = {\n    SIZE: 1,\n    FLAGS: 2,\n    HEIGHT: 3,\n    WIDTH: 4,\n    MIPMAP_COUNT: 7,\n    PIXEL_FORMAT: 19,\n};\n\n/**\n * DWORD offsets of the DDS PIXEL_FORMAT fields.\n *\n * @ignore\n */\nconst DDS_PF_FIELDS = {\n    SIZE: 0,\n    FLAGS: 1,\n    FOURCC: 2,\n    RGB_BITCOUNT: 3,\n    R_BIT_MASK: 4,\n    G_BIT_MASK: 5,\n    B_BIT_MASK: 6,\n    A_BIT_MASK: 7\n};\n\n/**\n * DWORD offsets of the DDS_HEADER_DX10 fields.\n *\n * @ignore\n */\nconst DDS_DX10_FIELDS = {\n    DXGI_FORMAT: 0,\n    RESOURCE_DIMENSION: 1,\n    MISC_FLAG: 2,\n    ARRAY_SIZE: 3,\n    MISC_FLAGS2: 4\n};\n\n/**\n * @see https://docs.microsoft.com/en-us/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format\n * @ignore\n */\n// This is way over-blown for us! Lend us a hand, and remove the ones that aren't used (but set the remaining\n// ones to their correct value)\nenum DXGI_FORMAT {\n    DXGI_FORMAT_UNKNOWN,\n    DXGI_FORMAT_R32G32B32A32_TYPELESS,\n    DXGI_FORMAT_R32G32B32A32_FLOAT,\n    DXGI_FORMAT_R32G32B32A32_UINT,\n    DXGI_FORMAT_R32G32B32A32_SINT,\n    DXGI_FORMAT_R32G32B32_TYPELESS,\n    DXGI_FORMAT_R32G32B32_FLOAT,\n    DXGI_FORMAT_R32G32B32_UINT,\n    DXGI_FORMAT_R32G32B32_SINT,\n    DXGI_FORMAT_R16G16B16A16_TYPELESS,\n    DXGI_FORMAT_R16G16B16A16_FLOAT,\n    DXGI_FORMAT_R16G16B16A16_UNORM,\n    DXGI_FORMAT_R16G16B16A16_UINT,\n    DXGI_FORMAT_R16G16B16A16_SNORM,\n    DXGI_FORMAT_R16G16B16A16_SINT,\n    DXGI_FORMAT_R32G32_TYPELESS,\n    DXGI_FORMAT_R32G32_FLOAT,\n    DXGI_FORMAT_R32G32_UINT,\n    DXGI_FORMAT_R32G32_SINT,\n    DXGI_FORMAT_R32G8X24_TYPELESS,\n    DXGI_FORMAT_D32_FLOAT_S8X24_UINT,\n    DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS,\n    DXGI_FORMAT_X32_TYPELESS_G8X24_UINT,\n    DXGI_FORMAT_R10G10B10A2_TYPELESS,\n    DXGI_FORMAT_R10G10B10A2_UNORM,\n    DXGI_FORMAT_R10G10B10A2_UINT,\n    DXGI_FORMAT_R11G11B10_FLOAT,\n    DXGI_FORMAT_R8G8B8A8_TYPELESS,\n    DXGI_FORMAT_R8G8B8A8_UNORM,\n    DXGI_FORMAT_R8G8B8A8_UNORM_SRGB,\n    DXGI_FORMAT_R8G8B8A8_UINT,\n    DXGI_FORMAT_R8G8B8A8_SNORM,\n    DXGI_FORMAT_R8G8B8A8_SINT,\n    DXGI_FORMAT_R16G16_TYPELESS,\n    DXGI_FORMAT_R16G16_FLOAT,\n    DXGI_FORMAT_R16G16_UNORM,\n    DXGI_FORMAT_R16G16_UINT,\n    DXGI_FORMAT_R16G16_SNORM,\n    DXGI_FORMAT_R16G16_SINT,\n    DXGI_FORMAT_R32_TYPELESS,\n    DXGI_FORMAT_D32_FLOAT,\n    DXGI_FORMAT_R32_FLOAT,\n    DXGI_FORMAT_R32_UINT,\n    DXGI_FORMAT_R32_SINT,\n    DXGI_FORMAT_R24G8_TYPELESS,\n    DXGI_FORMAT_D24_UNORM_S8_UINT,\n    DXGI_FORMAT_R24_UNORM_X8_TYPELESS,\n    DXGI_FORMAT_X24_TYPELESS_G8_UINT,\n    DXGI_FORMAT_R8G8_TYPELESS,\n    DXGI_FORMAT_R8G8_UNORM,\n    DXGI_FORMAT_R8G8_UINT,\n    DXGI_FORMAT_R8G8_SNORM,\n    DXGI_FORMAT_R8G8_SINT,\n    DXGI_FORMAT_R16_TYPELESS,\n    DXGI_FORMAT_R16_FLOAT,\n    DXGI_FORMAT_D16_UNORM,\n    DXGI_FORMAT_R16_UNORM,\n    DXGI_FORMAT_R16_UINT,\n    DXGI_FORMAT_R16_SNORM,\n    DXGI_FORMAT_R16_SINT,\n    DXGI_FORMAT_R8_TYPELESS,\n    DXGI_FORMAT_R8_UNORM,\n    DXGI_FORMAT_R8_UINT,\n    DXGI_FORMAT_R8_SNORM,\n    DXGI_FORMAT_R8_SINT,\n    DXGI_FORMAT_A8_UNORM,\n    DXGI_FORMAT_R1_UNORM,\n    DXGI_FORMAT_R9G9B9E5_SHAREDEXP,\n    DXGI_FORMAT_R8G8_B8G8_UNORM,\n    DXGI_FORMAT_G8R8_G8B8_UNORM,\n    DXGI_FORMAT_BC1_TYPELESS,\n    DXGI_FORMAT_BC1_UNORM,\n    DXGI_FORMAT_BC1_UNORM_SRGB,\n    DXGI_FORMAT_BC2_TYPELESS,\n    DXGI_FORMAT_BC2_UNORM,\n    DXGI_FORMAT_BC2_UNORM_SRGB,\n    DXGI_FORMAT_BC3_TYPELESS,\n    DXGI_FORMAT_BC3_UNORM,\n    DXGI_FORMAT_BC3_UNORM_SRGB,\n    DXGI_FORMAT_BC4_TYPELESS,\n    DXGI_FORMAT_BC4_UNORM,\n    DXGI_FORMAT_BC4_SNORM,\n    DXGI_FORMAT_BC5_TYPELESS,\n    DXGI_FORMAT_BC5_UNORM,\n    DXGI_FORMAT_BC5_SNORM,\n    DXGI_FORMAT_B5G6R5_UNORM,\n    DXGI_FORMAT_B5G5R5A1_UNORM,\n    DXGI_FORMAT_B8G8R8A8_UNORM,\n    DXGI_FORMAT_B8G8R8X8_UNORM,\n    DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM,\n    DXGI_FORMAT_B8G8R8A8_TYPELESS,\n    DXGI_FORMAT_B8G8R8A8_UNORM_SRGB,\n    DXGI_FORMAT_B8G8R8X8_TYPELESS,\n    DXGI_FORMAT_B8G8R8X8_UNORM_SRGB,\n    DXGI_FORMAT_BC6H_TYPELESS,\n    DXGI_FORMAT_BC6H_UF16,\n    DXGI_FORMAT_BC6H_SF16,\n    DXGI_FORMAT_BC7_TYPELESS,\n    DXGI_FORMAT_BC7_UNORM,\n    DXGI_FORMAT_BC7_UNORM_SRGB,\n    DXGI_FORMAT_AYUV,\n    DXGI_FORMAT_Y410,\n    DXGI_FORMAT_Y416,\n    DXGI_FORMAT_NV12,\n    DXGI_FORMAT_P010,\n    DXGI_FORMAT_P016,\n    DXGI_FORMAT_420_OPAQUE,\n    DXGI_FORMAT_YUY2,\n    DXGI_FORMAT_Y210,\n    DXGI_FORMAT_Y216,\n    DXGI_FORMAT_NV11,\n    DXGI_FORMAT_AI44,\n    DXGI_FORMAT_IA44,\n    DXGI_FORMAT_P8,\n    DXGI_FORMAT_A8P8,\n    DXGI_FORMAT_B4G4R4A4_UNORM,\n    DXGI_FORMAT_P208,\n    DXGI_FORMAT_V208,\n    DXGI_FORMAT_V408,\n    DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE,\n    DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE,\n    DXGI_FORMAT_FORCE_UINT\n}\n\n/**\n * Possible values of the field {@link DDS_DX10_FIELDS.RESOURCE_DIMENSION}\n *\n * @ignore\n */\nenum D3D10_RESOURCE_DIMENSION {\n    DDS_DIMENSION_TEXTURE1D = 2,\n    DDS_DIMENSION_TEXTURE2D = 3,\n    DDS_DIMENSION_TEXTURE3D = 6\n}\n\nconst PF_FLAGS = 1;\n\n// PIXEL_FORMAT flags\nconst DDPF_ALPHA = 0x2;\nconst DDPF_FOURCC = 0x4;\nconst DDPF_RGB = 0x40;\nconst DDPF_YUV = 0x200;\nconst DDPF_LUMINANCE = 0x20000;\n\n// Four character codes for DXTn formats\nconst FOURCC_DXT1 = 0x31545844;\nconst FOURCC_DXT3 = 0x33545844;\nconst FOURCC_DXT5 = 0x35545844;\nconst FOURCC_DX10 = 0x30315844;\n\n// Cubemap texture flag (for DDS_DX10_FIELDS.MISC_FLAG)\nconst DDS_RESOURCE_MISC_TEXTURECUBE = 0x4;\n\n/**\n * Maps `FOURCC_*` formats to internal formats (see {@link PIXI.INTERNAL_FORMATS}).\n *\n * @ignore\n */\nconst FOURCC_TO_FORMAT: { [id: number]: number } = {\n    [FOURCC_DXT1]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n    [FOURCC_DXT3]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n    [FOURCC_DXT5]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT\n};\n\n/**\n * Maps {@link DXGI_FORMAT} to types/internal-formats (see {@link PIXI.TYPES}, {@link PIXI.INTERNAL_FORMATS})\n *\n * @ignore\n */\nconst DXGI_TO_FORMAT: { [id: number]: number } = {\n    // WEBGL_compressed_texture_s3tc\n    [DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,\n\n    // WEBGL_compressed_texture_s3tc_srgb\n    [DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,\n    [DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\n};\n\n/**\n * @class\n * @memberof PIXI\n * @implements PIXI.ILoaderPlugin\n * @see https://docs.microsoft.com/en-us/windows/win32/direct3ddds/dx-graphics-dds-pguide\n */\nexport class DDSLoader\n{\n    /**\n     * Registers a DDS compressed texture\n     * @see PIXI.Loader.loaderMiddleware\n     * @param resource - loader resource that is checked to see if it is a DDS file\n     * @param next - callback Function to call when done\n     */\n    public static use(resource: LoaderResource, next: (...args: any[]) => void): void\n    {\n        if (resource.extension === 'dds' && resource.data)\n        {\n            try\n            {\n                Object.assign(resource, registerCompressedTextures(\n                    resource.name || resource.url,\n                    DDSLoader.parse(resource.data),\n                    resource.metadata,\n                ));\n            }\n            catch (err)\n            {\n                next(err);\n\n                return;\n            }\n        }\n\n        next();\n    }\n\n    /** Parses the DDS file header, generates base-textures, and puts them into the texture cache. */\n    private static parse(arrayBuffer: ArrayBuffer): CompressedTextureResource[]\n    {\n        const data = new Uint32Array(arrayBuffer);\n        const magicWord = data[0];\n\n        if (magicWord !== DDS_MAGIC)\n        {\n            throw new Error('Invalid DDS file magic word');\n        }\n\n        const header = new Uint32Array(arrayBuffer, 0, DDS_HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n\n        // DDS header fields\n        const height = header[DDS_FIELDS.HEIGHT];\n        const width = header[DDS_FIELDS.WIDTH];\n        const mipmapCount = header[DDS_FIELDS.MIPMAP_COUNT];\n\n        // PIXEL_FORMAT fields\n        const pixelFormat = new Uint32Array(\n            arrayBuffer,\n            DDS_FIELDS.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT,\n            DDS_HEADER_PF_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n        const formatFlags = pixelFormat[PF_FLAGS];\n\n        // File contains compressed texture(s)\n        if (formatFlags & DDPF_FOURCC)\n        {\n            const fourCC = pixelFormat[DDS_PF_FIELDS.FOURCC];\n\n            // File contains one DXTn compressed texture\n            if (fourCC !== FOURCC_DX10)\n            {\n                const internalFormat = FOURCC_TO_FORMAT[fourCC];\n\n                const dataOffset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;\n                const texData = new Uint8Array(arrayBuffer, dataOffset);\n\n                const resource = new CompressedTextureResource(texData, {\n                    format: internalFormat,\n                    width,\n                    height,\n                    levels: mipmapCount // CompressedTextureResource will separate the levelBuffers for us!\n                });\n\n                return [resource];\n            }\n\n            // FOURCC_DX10 indicates there is a 20-byte DDS_HEADER_DX10 after DDS_HEADER\n            const dx10Offset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;\n            const dx10Header = new Uint32Array(\n                data.buffer,\n                dx10Offset,\n                DDS_HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n            const dxgiFormat = dx10Header[DDS_DX10_FIELDS.DXGI_FORMAT];\n            const resourceDimension = dx10Header[DDS_DX10_FIELDS.RESOURCE_DIMENSION];\n            const miscFlag = dx10Header[DDS_DX10_FIELDS.MISC_FLAG];\n            const arraySize = dx10Header[DDS_DX10_FIELDS.ARRAY_SIZE];\n\n            // Map dxgiFormat to PIXI.INTERNAL_FORMATS\n            const internalFormat = DXGI_TO_FORMAT[dxgiFormat];\n\n            if (internalFormat === undefined)\n            {\n                throw new Error(`DDSLoader cannot parse texture data with DXGI format ${dxgiFormat}`);\n            }\n            if (miscFlag === DDS_RESOURCE_MISC_TEXTURECUBE)\n            {\n                // FIXME: Anybody excited about cubemap compressed textures?\n                throw new Error('DDSLoader does not support cubemap textures');\n            }\n            if (resourceDimension === D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)\n            {\n                // FIXME: Anybody excited about 3D compressed textures?\n                throw new Error('DDSLoader does not supported 3D texture data');\n            }\n\n            // Uint8Array buffers of image data, including all mipmap levels in each image\n            const imageBuffers = new Array<Uint8Array>();\n            const dataOffset = DDS_MAGIC_SIZE\n                + DDS_HEADER_SIZE\n                + DDS_HEADER_DX10_SIZE;\n\n            if (arraySize === 1)\n            {\n                // No need bothering with the imageSize calculation!\n                imageBuffers.push(new Uint8Array(arrayBuffer, dataOffset));\n            }\n            else\n            {\n                // Calculate imageSize for each texture, and then locate each image's texture data\n\n                const pixelSize = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[internalFormat];\n                let imageSize = 0;\n                let levelWidth = width;\n                let levelHeight = height;\n\n                for (let i = 0; i < mipmapCount; i++)\n                {\n                    const alignedLevelWidth = Math.max(1, (levelWidth + 3) & ~3);\n                    const alignedLevelHeight = Math.max(1, (levelHeight + 3) & ~3);\n\n                    const levelSize = alignedLevelWidth * alignedLevelHeight * pixelSize;\n\n                    imageSize += levelSize;\n\n                    levelWidth = levelWidth >>> 1;\n                    levelHeight = levelHeight >>> 1;\n                }\n\n                let imageOffset = dataOffset;\n\n                // NOTE: Cubemaps have 6-images per texture (but they aren't supported so ^_^)\n                for (let i = 0; i < arraySize; i++)\n                {\n                    imageBuffers.push(new Uint8Array(arrayBuffer, imageOffset, imageSize));\n                    imageOffset += imageSize;\n                }\n            }\n\n            // Uint8Array -> CompressedTextureResource, and we're done!\n            return imageBuffers.map((buffer) => new CompressedTextureResource(buffer, {\n                format: internalFormat,\n                width,\n                height,\n                levels: mipmapCount\n            }));\n        }\n        if (formatFlags & DDPF_RGB)\n        {\n            // FIXME: We might want to allow uncompressed *.dds files?\n            throw new Error('DDSLoader does not support uncompressed texture data.');\n        }\n        if (formatFlags & DDPF_YUV)\n        {\n            // FIXME: Does anybody need this feature?\n            throw new Error('DDSLoader does not supported YUV uncompressed texture data.');\n        }\n        if (formatFlags & DDPF_LUMINANCE)\n        {\n            // FIXME: Microsoft says older DDS filers use this feature! Probably not worth the effort!\n            throw new Error('DDSLoader does not support single-channel (lumninance) texture data!');\n        }\n        if (formatFlags & DDPF_ALPHA)\n        {\n            // FIXME: I'm tired! See above =)\n            throw new Error('DDSLoader does not support single-channel (alpha) texture data!');\n        }\n\n        throw new Error('DDSLoader failed to load a texture file due to an unknown reason!');\n    }\n}\n","import { ALPHA_MODES, FORMATS, MIPMAP_MODES, TYPES } from '@pixi/constants';\nimport { BaseTexture, BufferResource, Texture } from '@pixi/core';\nimport { CompressedLevelBuffer, CompressedTextureResource } from '../resources/CompressedTextureResource';\nimport { LoaderResource } from '@pixi/loaders';\nimport { INTERNAL_FORMAT_TO_BYTES_PER_PIXEL } from '../const';\nimport { registerCompressedTextures } from './registerCompressedTextures';\n\n// Set KTX files to be loaded as an ArrayBuffer\nLoaderResource.setExtensionXhrType('ktx', LoaderResource.XHR_RESPONSE_TYPE.BUFFER);\n\n/**\n * The 12-byte KTX file identifier\n *\n * @see https://www.khronos.org/opengles/sdk/tools/KTX/file_format_spec/#2.1\n * @ignore\n */\nconst FILE_IDENTIFIER = [0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A];\n\n/**\n * The value stored in the \"endianness\" field.\n *\n * @see https://www.khronos.org/opengles/sdk/tools/KTX/file_format_spec/#2.2\n * @ignore\n */\nconst ENDIANNESS = 0x04030201;\n\n/**\n * Byte offsets of the KTX file header fields\n *\n * @ignore\n */\nconst KTX_FIELDS = {\n    FILE_IDENTIFIER: 0,\n    ENDIANNESS: 12,\n    GL_TYPE: 16,\n    GL_TYPE_SIZE: 20,\n    GL_FORMAT: 24,\n    GL_INTERNAL_FORMAT: 28,\n    GL_BASE_INTERNAL_FORMAT: 32,\n    PIXEL_WIDTH: 36,\n    PIXEL_HEIGHT: 40,\n    PIXEL_DEPTH: 44,\n    NUMBER_OF_ARRAY_ELEMENTS: 48,\n    NUMBER_OF_FACES: 52,\n    NUMBER_OF_MIPMAP_LEVELS: 56,\n    BYTES_OF_KEY_VALUE_DATA: 60\n};\n\n/**\n * Byte size of the file header fields in {@code KTX_FIELDS}\n *\n * @ignore\n */\nconst FILE_HEADER_SIZE = 64;\n\n/**\n * Maps {@link PIXI.TYPES} to the bytes taken per component, excluding those ones that are bit-fields.\n *\n * @ignore\n */\nexport const TYPES_TO_BYTES_PER_COMPONENT: { [id: number]: number } = {\n    [TYPES.UNSIGNED_BYTE]: 1,\n    [TYPES.UNSIGNED_SHORT]: 2,\n    [TYPES.INT]: 4,\n    [TYPES.UNSIGNED_INT]: 4,\n    [TYPES.FLOAT]: 4,\n    [TYPES.HALF_FLOAT]: 8\n};\n\n/**\n * Number of components in each {@link PIXI.FORMATS}\n *\n * @ignore\n */\nexport const FORMATS_TO_COMPONENTS: { [id: number]: number } = {\n    [FORMATS.RGBA]: 4,\n    [FORMATS.RGB]: 3,\n    [FORMATS.RG]: 2,\n    [FORMATS.RED]: 1,\n    [FORMATS.LUMINANCE]: 1,\n    [FORMATS.LUMINANCE_ALPHA]: 2,\n    [FORMATS.ALPHA]: 1\n};\n\n/**\n * Number of bytes per pixel in bit-field types in {@link PIXI.TYPES}\n *\n * @ignore\n */\nexport const TYPES_TO_BYTES_PER_PIXEL: { [id: number]: number } = {\n    [TYPES.UNSIGNED_SHORT_4_4_4_4]: 2,\n    [TYPES.UNSIGNED_SHORT_5_5_5_1]: 2,\n    [TYPES.UNSIGNED_SHORT_5_6_5]: 2\n};\n\n/**\n * Loader plugin for handling KTX texture container files.\n *\n * This KTX loader does not currently support the following features:\n * * cube textures\n * * 3D textures\n * * vendor-specific key/value data parsing\n * * endianness conversion for big-endian machines\n * * embedded *.basis files\n *\n * It does supports the following features:\n * * multiple textures per file\n * * mipmapping (only for compressed formats)\n *\n * @class\n * @memberof PIXI\n * @implements PIXI.ILoaderPlugin\n */\nexport class KTXLoader\n{\n    /**\n     * Called after a KTX file is loaded.\n     *\n     * This will parse the KTX file header and add a {@code BaseTexture} to the texture\n     * cache.\n     *\n     * @see PIXI.Loader.loaderMiddleware\n     * @param resource - loader resource that is checked to see if it is a KTX file\n     * @param next - callback Function to call when done\n     */\n    public static use(resource: LoaderResource, next: (...args: any[]) => void): void\n    {\n        if (resource.extension === 'ktx' && resource.data)\n        {\n            try\n            {\n                const url = resource.name || resource.url;\n                const { compressed, uncompressed } = KTXLoader.parse(url, resource.data);\n\n                if (compressed)\n                {\n                    Object.assign(resource, registerCompressedTextures(\n                        url,\n                        compressed,\n                        resource.metadata,\n                    ));\n                }\n                else if (uncompressed)\n                {\n                    const textures: Record<string, Texture> = {};\n\n                    uncompressed.forEach((image, i) =>\n                    {\n                        const texture = new Texture(new BaseTexture(\n                            image.resource,\n                            {\n                                mipmap: MIPMAP_MODES.OFF,\n                                alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,\n                                type: image.type,\n                                format: image.format,\n                            }\n                        ));\n                        const cacheID = `${url}-${i + 1}`;\n\n                        BaseTexture.addToCache(texture.baseTexture, cacheID);\n                        Texture.addToCache(texture, cacheID);\n\n                        if (i === 0)\n                        {\n                            textures[url] = texture;\n                            BaseTexture.addToCache(texture.baseTexture, url);\n                            Texture.addToCache(texture, url);\n                        }\n\n                        textures[cacheID] = texture;\n                    });\n\n                    Object.assign(resource, { textures });\n                }\n            }\n            catch (err)\n            {\n                next(err);\n\n                return;\n            }\n        }\n\n        next();\n    }\n\n    /** Parses the KTX file header, generates base-textures, and puts them into the texture cache. */\n    private static parse(url: string, arrayBuffer: ArrayBuffer): {\n        compressed?: CompressedTextureResource[]\n        uncompressed?: { resource: BufferResource, type: TYPES, format: FORMATS }[]\n    }\n    {\n        const dataView = new DataView(arrayBuffer);\n\n        if (!KTXLoader.validate(url, dataView))\n        {\n            return null;\n        }\n\n        const littleEndian = dataView.getUint32(KTX_FIELDS.ENDIANNESS, true) === ENDIANNESS;\n        const glType = dataView.getUint32(KTX_FIELDS.GL_TYPE, littleEndian);\n        // const glTypeSize = dataView.getUint32(KTX_FIELDS.GL_TYPE_SIZE, littleEndian);\n        const glFormat = dataView.getUint32(KTX_FIELDS.GL_FORMAT, littleEndian);\n        const glInternalFormat = dataView.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT, littleEndian);\n        const pixelWidth = dataView.getUint32(KTX_FIELDS.PIXEL_WIDTH, littleEndian);\n        const pixelHeight = dataView.getUint32(KTX_FIELDS.PIXEL_HEIGHT, littleEndian) || 1;// \"pixelHeight = 0\" -> \"1\"\n        const pixelDepth = dataView.getUint32(KTX_FIELDS.PIXEL_DEPTH, littleEndian) || 1;// ^^\n        const numberOfArrayElements = dataView.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS, littleEndian) || 1;// ^^\n        const numberOfFaces = dataView.getUint32(KTX_FIELDS.NUMBER_OF_FACES, littleEndian);\n        const numberOfMipmapLevels = dataView.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS, littleEndian);\n        const bytesOfKeyValueData = dataView.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA, littleEndian);\n\n        // Whether the platform architecture is little endian. If littleEndian !== platformLittleEndian, then the\n        // file contents must be endian-converted!\n        // TODO: Endianness conversion\n        // const platformLittleEndian = new Uint8Array((new Uint32Array([ENDIANNESS])).buffer)[0] === 0x01;\n\n        if (pixelHeight === 0 || pixelDepth !== 1)\n        {\n            throw new Error('Only 2D textures are supported');\n        }\n        if (numberOfFaces !== 1)\n        {\n            throw new Error('CubeTextures are not supported by KTXLoader yet!');\n        }\n        if (numberOfArrayElements !== 1)\n        {\n            // TODO: Support splitting array-textures into multiple BaseTextures\n            throw new Error('WebGL does not support array textures');\n        }\n\n        // TODO: 8x4 blocks for 2bpp pvrtc\n        const blockWidth = 4;\n        const blockHeight = 4;\n\n        const alignedWidth = (pixelWidth + 3) & ~3;\n        const alignedHeight = (pixelHeight + 3) & ~3;\n        const imageBuffers = new Array<CompressedLevelBuffer[]>(numberOfArrayElements);\n        let imagePixels = pixelWidth * pixelHeight;\n\n        if (glType === 0)\n        {\n            // Align to 16 pixels (4x4 blocks)\n            imagePixels = alignedWidth * alignedHeight;\n        }\n\n        let imagePixelByteSize: number;\n\n        if (glType !== 0)\n        {\n            // Uncompressed texture format\n            if (TYPES_TO_BYTES_PER_COMPONENT[glType])\n            {\n                imagePixelByteSize = TYPES_TO_BYTES_PER_COMPONENT[glType] * FORMATS_TO_COMPONENTS[glFormat];\n            }\n            else\n            {\n                imagePixelByteSize = TYPES_TO_BYTES_PER_PIXEL[glType];\n            }\n        }\n        else\n        {\n            imagePixelByteSize = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[glInternalFormat];\n        }\n\n        if (imagePixelByteSize === undefined)\n        {\n            throw new Error('Unable to resolve the pixel format stored in the *.ktx file!');\n        }\n\n        const imageByteSize = imagePixels * imagePixelByteSize;\n        let mipByteSize = imageByteSize;\n        let mipWidth = pixelWidth;\n        let mipHeight = pixelHeight;\n        let alignedMipWidth = alignedWidth;\n        let alignedMipHeight = alignedHeight;\n        let imageOffset = FILE_HEADER_SIZE + bytesOfKeyValueData;\n\n        for (let mipmapLevel = 0; mipmapLevel < numberOfMipmapLevels; mipmapLevel++)\n        {\n            const imageSize = dataView.getUint32(imageOffset, littleEndian);\n            let elementOffset = imageOffset + 4;\n\n            for (let arrayElement = 0; arrayElement < numberOfArrayElements; arrayElement++)\n            {\n                // TODO: Maybe support 3D textures? :-)\n                // for (let zSlice = 0; zSlice < pixelDepth; zSlice)\n\n                let mips = imageBuffers[arrayElement];\n\n                if (!mips)\n                {\n                    mips = imageBuffers[arrayElement] = new Array(numberOfMipmapLevels);\n                }\n\n                mips[mipmapLevel] = {\n                    levelID: mipmapLevel,\n\n                    // don't align mipWidth when texture not compressed! (glType not zero)\n                    levelWidth: numberOfMipmapLevels > 1 || glType !== 0 ? mipWidth : alignedMipWidth,\n                    levelHeight: numberOfMipmapLevels > 1 || glType !== 0 ? mipHeight : alignedMipHeight,\n                    levelBuffer: new Uint8Array(arrayBuffer, elementOffset, mipByteSize)\n                };\n                elementOffset += mipByteSize;\n            }\n\n            // HINT: Aligns to 4-byte boundary after jumping imageSize (in lieu of mipPadding)\n            imageOffset += imageSize + 4;// (+4 to jump the imageSize field itself)\n            imageOffset = imageOffset % 4 !== 0 ? imageOffset + 4 - (imageOffset % 4) : imageOffset;\n\n            // Calculate mipWidth, mipHeight for _next_ iteration\n            mipWidth = (mipWidth >> 1) || 1;\n            mipHeight = (mipHeight >> 1) || 1;\n            alignedMipWidth = (mipWidth + blockWidth - 1) & ~(blockWidth - 1);\n            alignedMipHeight = (mipHeight + blockHeight - 1) & ~(blockHeight - 1);\n\n            // Each mipmap level is 4-times smaller?\n            mipByteSize = alignedMipWidth * alignedMipHeight * imagePixelByteSize;\n        }\n\n        // We use the levelBuffers feature of CompressedTextureResource b/c texture data is image-major, not level-major.\n        if (glType !== 0)\n        {\n            return {\n                uncompressed: imageBuffers.map((levelBuffers) =>\n                {\n                    let buffer: Float32Array | Uint32Array | Int32Array | Uint8Array = levelBuffers[0].levelBuffer;\n                    let convertToInt = false;\n\n                    if (glType === TYPES.FLOAT)\n                    {\n                        buffer = new Float32Array(\n                            levelBuffers[0].levelBuffer.buffer,\n                            levelBuffers[0].levelBuffer.byteOffset,\n                            levelBuffers[0].levelBuffer.byteLength / 4);\n                    }\n                    else if (glType === TYPES.UNSIGNED_INT)\n                    {\n                        convertToInt = true;\n                        buffer = new Uint32Array(\n                            levelBuffers[0].levelBuffer.buffer,\n                            levelBuffers[0].levelBuffer.byteOffset,\n                            levelBuffers[0].levelBuffer.byteLength / 4);\n                    }\n                    else if (glType === TYPES.INT)\n                    {\n                        convertToInt = true;\n                        buffer = new Int32Array(\n                            levelBuffers[0].levelBuffer.buffer,\n                            levelBuffers[0].levelBuffer.byteOffset,\n                            levelBuffers[0].levelBuffer.byteLength / 4);\n                    }\n\n                    return {\n                        resource: new BufferResource(\n                            buffer,\n                            {\n                                width: levelBuffers[0].levelWidth,\n                                height: levelBuffers[0].levelHeight,\n                            }\n                        ),\n                        type: glType,\n                        format: convertToInt ? KTXLoader.convertFormatToInteger(glFormat) : glFormat,\n                    };\n                })\n            };\n        }\n\n        return {\n            compressed: imageBuffers.map((levelBuffers) => new CompressedTextureResource(null, {\n                format: glInternalFormat,\n                width: pixelWidth,\n                height: pixelHeight,\n                levels: numberOfMipmapLevels,\n                levelBuffers,\n            }))\n        };\n    }\n\n    /** Checks whether the arrayBuffer contains a valid *.ktx file. */\n    private static validate(url: string, dataView: DataView): boolean\n    {\n        // NOTE: Do not optimize this into 3 32-bit integer comparison because the endianness\n        // of the data is not specified.\n        for (let i = 0; i < FILE_IDENTIFIER.length; i++)\n        {\n            if (dataView.getUint8(i) !== FILE_IDENTIFIER[i])\n            {\n                // #if _DEBUG\n                console.error(`${url} is not a valid *.ktx file!`);\n                // #endif\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    private static convertFormatToInteger(format: FORMATS)\n    {\n        switch (format)\n        {\n            case FORMATS.RGBA: return FORMATS.RGBA_INTEGER;\n            case FORMATS.RGB: return FORMATS.RGB_INTEGER;\n            case FORMATS.RG: return FORMATS.RG_INTEGER;\n            case FORMATS.RED: return FORMATS.RED_INTEGER;\n            default: return format;\n        }\n    }\n}\n"],"names":["INTERNAL_FORMATS","_a","arguments","ViewableBuffer","BufferResource","LoaderResource","url","Texture","BaseTexture","MIPMAP_MODES","ALPHA_MODES","_b","TYPES","FORMATS"],"mappings":"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"}