function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},h={},o=i.parcelRequirefac4;null==o&&((o=function(t){if(t in s)return s[t].exports;if(t in h){var e=h[t];delete h[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){h[t]=e},i.parcelRequirefac4=o),o.register("27Lyk",(function(e,i){var s,h;t(e.exports,"register",(()=>s),(t=>s=t)),t(e.exports,"resolve",(()=>h),(t=>h=t));var o={};s=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)o[e[i]]=t[e[i]]},h=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o("27Lyk").register(JSON.parse('{"035cd":"game.059e78b9.js","j35bh":"Char1_1.353fe21a.png","h3CaD":"background.c9157dcf.png","2IBRc":"test_ground2.34569c95.jpg","3kzHG":"block.f9c041fa.jpg","7tBVd":"theme.db8cf54c.wav","Wd7fG":"jump.32d0def2.wav","96Zzh":"death.6abf4765.wav","6IK03":"footstep.b8ae6649.wav","29I8w":"push.5b31bf4a.wav","aY0hi":"head_bump.6d21ef75.wav","i7Rub":"death.752fb891.js"}'));var r,a=o("31xg4");r=new URL(o("27Lyk").resolve("j35bh"),import.meta.url).toString();var c;c=new URL(o("27Lyk").resolve("h3CaD"),import.meta.url).toString();var l;l=new URL(o("27Lyk").resolve("2IBRc"),import.meta.url).toString();var d;d=new URL(o("27Lyk").resolve("3kzHG"),import.meta.url).toString();var n;n=new URL(o("27Lyk").resolve("7tBVd"),import.meta.url).toString();var u;a=o("31xg4");u=new URL(o("27Lyk").resolve("Wd7fG"),import.meta.url).toString();var k;k=new URL(o("27Lyk").resolve("96Zzh"),import.meta.url).toString();var p;p=new URL(o("27Lyk").resolve("6IK03"),import.meta.url).toString();var y;y=new URL(o("27Lyk").resolve("29I8w"),import.meta.url).toString();var w;w=new URL(o("27Lyk").resolve("aY0hi"),import.meta.url).toString();class B extends a.Sprite{xspeed=0;yspeed=5;weigth=.2;walkRight=!1;walkLeft=!1;walkLeftLock=!1;walkRightLock=!1;jumpSound=new Audio(e(u));deathSound=new Audio(e(k));footstepSound=new Audio(e(p));pushSound=new Audio(e(y));headBumpSound=new Audio(e(w));constructor(t,e){super(t),this.anchor.set(0),this.x=60,this.y=190,this.width=51,this.height=72,this.allBlocksArray=e,window.addEventListener("keydown",(t=>this.onKeyDown(t))),window.addEventListener("keyup",(t=>this.onKeyUp(t)))}update(t){for(let e=0;e<this.allBlocksArray.length;e++)this.allBlocksArray[e].x+=-t*this.xspeed;this.y+=t*this.yspeed,this.yspeed+=this.weigth,this.y>500&&(this.deathSound.play(),this.deathSound.volume=.1,this.resetPosition()),!0===this.walkLeft&&(this.xspeed=-5),!0===this.walkRight&&(this.xspeed=5),!1===this.walkLeft&&!1===this.walkRight&&(this.xspeed=0)}collisionVerticalTop(t){return!(this.x>t.x+t.width||this.x+this.width<t.x||this.y>t.y+t.height||this.y+this.height<t.y)}collisionVerticalBottom(t){this.y+this.height>t.y&&this.y<t.y+t.height&&this.x+this.width>t.x&&this.x<t.x+t.width&&(this.yspeed=3,this.headBumpSound.play(),this.headBumpSound.volume=.4)}collisionHorizontal(t){this.x+this.width>=t.x&&this.x+this.width<t.x+t.width?(this.y===t.y||this.y-this.height+5<t.y&&this.y>t.y-t.height)&&(this.walkRightLock=!0,this.walkRight=!1,this.x=t.x-this.width-1,this.pushSound.play(),this.pushSound.volume=.4):this.walkRightLock=!1,this.x<=t.x+t.width&&this.x>t.x?(this.y===t.y||this.y-this.height+5<t.y&&this.y>t.y-t.height)&&(this.walkLeftLock=!0,this.walkLeft=!1,this.x=t.x+t.width+1,this.pushSound.play(),this.pushSound.volume=.4):this.walkLeftLock=!1}resetPosition(){window.location.href="death.html"}onKeyDown(t){switch(" "!==t.key&&"ArrowUp"!==t.key&&"w"!==t.key||0===this.yspeed&&(this.yspeed=-9,this.jumpSound.play(),this.jumpSound.volume=.4),t.key.toUpperCase()){case"A":case"ARROWLEFT":this.walkLeftLock||(this.walkLeft=!0,this.footstepSound.play(),this.footstepSound.volume=.4);break;case"D":case"ARROWRIGHT":this.walkRightLock||(this.walkRight=!0,this.footstepSound.play(),this.footstepSound.volume=.4)}}onKeyUp(t){switch(t.key.toUpperCase()){case"A":case"ARROWLEFT":this.walkLeft=!1;break;case"D":case"ARROWRIGHT":this.walkRight=!1}}}a=o("31xg4");class g extends a.Sprite{constructor(t){super(t),this.x=0,this.y=350,this.width=300,this.height=70}}a=o("31xg4");class x extends a.Sprite{constructor(t){super(t),this.x=350,this.y=278,this.width=70,this.height=72}}a=o("31xg4");class f extends a.TilingSprite{constructor(t,e,i){super(t,e,i)}update(){this.tilePosition.x-=.4}}a=o("31xg4");class m extends a.Container{doomClock=3600;constructor(){super();const t=new a.TextStyle({fontFamily:"ArcadeFont",fontSize:40,fontWeight:"bold",fill:["#ffffff"]});this.scoreField=new a.Text("Timer: ",t),this.scoreField.x=10,this.scoreField.y=10}update(t){this.doomClock-=t;let e=Math.floor(this.doomClock/60);this.doomClock<=0?console.log("Doomsday has come!"):console.log(`Only ${e} seconds left!`)}}new class{pixiWidth=800;pixiHeight=500;themeSound=new Audio(e(n));constructor(){this.pixi=new a.Application({width:this.pixiWidth,height:this.pixiHeight}),this.pixi.stage.interactive=!0,this.pixi.stage.hitArea=this.pixi.renderer.screen,document.body.appendChild(this.pixi.view),this.blocks=[],this.grounds=[],this.gameArray=[],this.loader=new a.Loader,this.loader.add("charTexture",e(r)).add("backgroundTexture",e(c)).add("groundTexture",e(l)).add("blockTexture",e(d)),this.loader.load((()=>this.loadCompleted()))}loadCompleted(){this.themeSound.play(),this.themeSound.volume=.8,this.themeSound.addEventListener("ended",(function(){this.currentTime=0,this.play()}),!1),this.background=new f(this.loader.resources.backgroundTexture.texture,this.pixiWidth,this.pixiHeight),this.pixi.stage.addChild(this.background),this.char=new B(this.loader.resources.charTexture.texture,this.gameArray),this.pixi.stage.addChild(this.char),this.interface=new m,this.pixi.stage.addChild(this.interface),this.createGround(0,430),this.createGround(300,430),this.createGround(3500,430),this.createGround(3800,430),this.createGround(4100,430),this.createGround(4700,430),this.createGround(5e3,430),this.createGround(6700,430),this.createGround(7e3,430),this.createGround(7300,430),this.createGround(8e3,430),this.createGround(8300,430),this.createGround(9700,430),this.createGround(1e4,430),this.createBlock(350,240),this.createBlock(600,240),this.createBlock(670,240),this.createBlock(740,240),this.createBlock(810,240),this.createBlock(880,240),this.createBlock(740,70),this.createBlock(1350,440),this.createBlock(1350,370),this.createBlock(1350,350),this.createBlock(1420,440),this.createBlock(1420,370),this.createBlock(1420,350),this.createBlock(1650,190),this.createBlock(1920,440),this.createBlock(1920,370),this.createBlock(1920,300),this.createBlock(1990,440),this.createBlock(1990,370),this.createBlock(1990,300),this.createBlock(2350,440),this.createBlock(2350,370),this.createBlock(2350,300),this.createBlock(2420,440),this.createBlock(2420,370),this.createBlock(2420,300),this.createBlock(2910,440),this.createBlock(2910,370),this.createBlock(2910,300),this.createBlock(2910,250),this.createBlock(2980,440),this.createBlock(2980,370),this.createBlock(2980,300),this.createBlock(2980,250),this.createBlock(3800,240),this.createBlock(3870,240),this.createBlock(3940,240),this.createBlock(4010,60),this.createBlock(4080,60),this.createBlock(4150,60),this.createBlock(4220,60),this.createBlock(4290,60),this.createBlock(4690,60),this.createBlock(4760,60),this.createBlock(4830,60),this.createBlock(4830,240),this.createBlock(5340,240),this.createBlock(5640,240),this.createBlock(5940,240),this.createBlock(6240,240),this.createBlock(5940,60),this.createBlock(7e3,240),this.createBlock(7530,150),this.createBlock(7530,220),this.createBlock(7530,290),this.createBlock(7530,358),this.createBlock(7460,150),this.createBlock(7460,220),this.createBlock(7460,290),this.createBlock(7460,358),this.createBlock(7390,220),this.createBlock(7390,290),this.createBlock(7390,358),this.createBlock(7320,290),this.createBlock(7320,358),this.createBlock(7250,358),this.createBlock(8e3,150),this.createBlock(8e3,220),this.createBlock(8e3,290),this.createBlock(8e3,358),this.createBlock(8070,220),this.createBlock(8070,290),this.createBlock(8070,358),this.createBlock(8140,290),this.createBlock(8140,358),this.createBlock(8210,358),this.createBlock(8750,240),this.createBlock(9020,200),this.createBlock(9390,240),this.pixi.ticker.add((t=>this.update(t)))}update(t){this.char.update(t),this.background.update();for(let t of this.grounds)this.char.collisionVerticalTop(t)&&this.char.y+this.char.height<t.y+this.char.yspeed&&(this.char.y=t.y-this.char.height,this.char.yspeed=0),this.char.collisionHorizontal(t),this.char.collisionVerticalBottom(t);for(let t of this.blocks)this.char.collisionVerticalTop(t)&&this.char.y+this.char.height<t.y+this.char.yspeed&&(this.char.y=t.y-this.char.height,this.char.yspeed=0),this.char.collisionHorizontal(t),this.char.collisionVerticalBottom(t)}createBlock(t,e){let i=new x(this.loader.resources.blockTexture.texture);i.x=t,i.y=e,this.blocks.push(i),this.gameArray.push(i),this.pixi.stage.addChild(i)}createGround(t,e){let i=new g(this.loader.resources.groundTexture.texture);i.x=t,i.y=e,this.grounds.push(i),this.gameArray.push(i),this.pixi.stage.addChild(i)}};
//# sourceMappingURL=game.059e78b9.js.map
